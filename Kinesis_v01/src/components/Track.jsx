// track-draw.js â€” generated by TrackTracer
// Contains two functions: drawTrackSmoothed(ctx) and drawTrackRaw(ctx)
// Usage:
// 1) include this script or paste functions into your project
// 2) call drawTrackSmoothed(ctx) where ctx is a 2D canvas context

const _ASPHALT_COLOR = "#2c2c2e";
const _ASPHALT_WIDTH = 36;
const _CURB_WIDTH = 60;
const _DASH = 24;
const _GAP = 24;

// Raw paths (your clicked points)
const RAW_PATHS = [
  [{x:612.00,y:194.00},{x:1170.00,y:196.00},{x:1185.00,y:200.00},{x:1193.00,y:209.00},{x:1198.00,y:220.00},{x:1199.00,y:468.00},{x:1194.00,y:479.00},{x:1186.00,y:486.00},{x:1175.00,y:490.00},{x:680.00,y:490.00},{x:645.00,y:494.00},{x:581.00,y:502.00},{x:547.00,y:504.00},{x:516.00,y:504.00},{x:472.00,y:501.00},{x:441.00,y:496.00},{x:409.00,y:493.00},{x:384.00,y:491.00},{x:346.00,y:490.00},{x:115.00,y:490.00},{x:85.00,y:484.00},{x:58.00,y:471.00},{x:33.00,y:450.00},{x:16.00,y:425.00},{x:6.00,y:404.00},{x:-1.00,y:373.00},{x:5.00,y:338.00},{x:18.00,y:307.00},{x:60.00,y:264.00},{x:102.00,y:250.00},{x:102.00,y:250.00},{x:500.00,y:249.00},{x:515.00,y:247.00},{x:528.00,y:229.00},{x:545.00,y:210.00},{x:569.00,y:200.00},{x:598.00,y:195.00},{x:611.00,y:195.00}],
  [{x:601.00,y:248.00},{x:1002.00,y:248.00},{x:1020.00,y:249.00},{x:1027.00,y:257.00},{x:1027.00,y:288.00},{x:1028.00,y:387.00},{x:1029.00,y:424.00},{x:1029.00,y:424.00},{x:1027.00,y:434.00},{x:1018.00,y:437.00},{x:985.00,y:437.00},{x:747.00,y:438.00},{x:723.00,y:436.00},{x:664.00,y:429.00},{x:600.00,y:417.00},{x:579.00,y:412.00},{x:550.00,y:411.00},{x:518.00,y:411.00},{x:492.00,y:415.00},{x:435.00,y:429.00},{x:403.00,y:436.00},{x:327.00,y:437.00},{x:116.00,y:437.00},{x:96.00,y:431.00},{x:96.00,y:431.00},{x:78.00,y:418.00},{x:64.00,y:397.00},{x:58.00,y:388.00},{x:58.00,y:375.00},{x:59.00,y:360.00},{x:63.00,y:341.00},{x:73.00,y:326.00},{x:86.00,y:316.00},{x:103.00,y:305.00},{x:126.00,y:301.00},{x:141.00,y:301.00},{x:503.00,y:301.00},{x:520.00,y:298.00},{x:535.00,y:293.00},{x:550.00,y:282.00},{x:562.00,y:270.00},{x:572.00,y:260.00},{x:579.00,y:251.00},{x:591.00,y:248.00},{x:600.00,y:249.00}],
  [{x:1080.00,y:257.00},{x:1082.00,y:428.00},{x:1087.00,y:435.00},{x:1096.00,y:436.00},{x:1133.00,y:437.00},{x:1141.00,y:435.00},{x:1145.00,y:427.00},{x:1145.00,y:255.00},{x:1140.00,y:250.00},{x:1127.00,y:247.00},{x:1089.00,y:247.00},{x:1082.00,y:251.00},{x:1078.00,y:257.00}]
];

// Smoothed paths (pre-calculated)
const SMOOTH_PATHS = [
  [{x:612.00,y:194.00},{x:640.69,y:194.09},{x:678.99,y:194.19},{x:724.99,y:194.31},{x:776.78,y:194.44},{x:832.44,y:194.59},{x:890.06,y:194.75},{x:947.74,y:194.92},{x:1003.56,y:195.11},{x:1055.60,y:195.31},{x:1101.97,y:195.53},{x:1140.74,y:195.76},{x:1170.00,y:196.00},{x:1170.00,y:196.00},{x:1190.28,y:196.25},{x:1204.00,y:196.49},{x:1212.09,y:196.74},{x:1215.48,y:197.00},{x:1215.10,y:197.27},{x:1211.88,y:197.56},{x:1206.74,y:197.88},{x:1200.63,y:198.22},{x:1194.47,y:198.60},{x:1189.19,y:199.02},{x:1185.72,y:199.49},{x:1185.00,y:200.00},{x:1185.00,y:200.00},{x:1185.92,y:200.57},{x:1186.77,y:201.19},{x:1187.56,y:201.85},{x:1188.30,y:202.56},{x:1188.98,y:203.29},{x:1189.63,y:204.06},{x:1190.23,y:204.86},{x:1190.81,y:205.67},{x:1191.38,y:206.49},{x:1191.92,y:207.33},{x:1192.46,y:208.16},{x:1193.00,y:209.00},{x:1193.00,y:209.00},{x:1193.53,y:209.09},{x:1194.05,y:207.97},{x:1194.55,y:206.05},{x:1195.04,y:203.74},{x:1195.50,y:201.44},{x:1195.94,y:199.56},{x:1196.35,y:198.51},{x:1196.74,y:198.70},{x:1197.10,y:200.54},{x:1197.43,y:204.43},{x:1197.73,y:210.78},{x:1198.00,y:220.00},{x:1198.00,y:220.00},{x:1198.24,y:233.12},{x:1198.47,y:250.36},{x:1198.67,y:270.89},{x:1198.85,y:293.89},{x:1199.00,y:318.53},{x:1199.13,y:344.00},{x:1199.21,y:369.47},{x:1199.26,y:394.11},{x:1199.27,y:417.11},{x:1199.23,y:437.64},{x:1199.14,y:454.88},{x:1199.00,y:468.00},{x:1199.00,y:468.00},{x:1198.80,y:477.23},{x:1198.55,y:483.59},{x:1198.24,y:487.51},{x:1197.89,y:489.37},{x:1197.49,y:489.59},{x:1197.06,y:488.56},{x:1196.60,y:486.70},{x:1196.11,y:484.41},{x:1195.60,y:482.09},{x:1195.08,y:480.14},{x:1194.54,y:478.98},{x:1194.00,y:479.00},{x:1194.00,y:479.00},{x:1193.45,y:479.73},{x:1192.88,y:480.43},{x:1192.28,y:481.10},{x:1191.67,y:481.74},{x:1191.03,y:482.35},{x:1190.38,y:482.94},{x:1189.70,y:483.50},{x:1189.00,y:484.04},{x:1188.28,y:484.55},{x:1187.54,y:485.05},{x:1186.78,y:485.53},{x:1186.00,y:486.00},{x:1186.00,y:486.00},{x:1186.73,y:486.45},{x:1189.94,y:486.89},{x:1194.80,y:487.30},{x:1200.48,y:487.70},{x:1206.14,y:488.08},{x:1210.94,y:488.44},{x:1214.05,y:488.77},{x:1214.63,y:489.07},{x:1211.85,y:489.35},{x:1204.88,y:489.60},{x:1192.87,y:489.82},{x:1175.00,y:490.00},{x:1175.00,y:490.00},{x:1149.23,y:490.13},{x:1115.19,y:490.19},{x:1074.50,y:490.19},{x:1028.81,y:490.15},{x:979.77,y:490.08},{x:929.00,y:490.00},{x:878.15,y:489.92},{x:828.85,y:489.85},{x:782.75,y:489.81},{x:741.48,y:489.81},{x:706.69,y:489.87},{x:680.00,y:490.00},{x:680.00,y:490.00},{x:661.07,y:490.18},{x:647.88,y:490.39},{x:639.59,y:490.62},{x:635.33,y:490.89},{x:634.28,y:491.18},{x:635.56,y:491.50},{x:638.35,y:491.85},{x:641.78,y:492.22},{x:645.01,y:492.63},{x:647.19,y:493.06},{x:647.47,y:493.51},{x:645.00,y:494.00},{x:645.00,y:494.00},{x:640.59,y:494.55},{x:635.66,y:495.17},{x:630.34,y:495.86},{x:624.70,y:496.59},{x:618.87,y:497.35},{x:612.94,y:498.13},{x:607.01,y:498.89},{x:601.19,y:499.63},{x:595.57,y:500.33},{x:590.27,y:500.97},{x:585.38,y:501.53},{x:581.00,y:502.00},{x:581.00,y:502.00},{x:577.11,y:502.38},{x:573.56,y:502.70},{x:570.32,y:502.97},{x:567.33,y:503.19},{x:564.55,y:503.36},{x:561.94,y:503.50},{x:559.43,y:503.61},{x:557.00,y:503.70},{x:554.59,y:503.78},{x:552.15,y:503.85},{x:549.63,y:503.92},{x:547.00,y:504.00},{x:547.00,y:504.00},{x:544.35,y:504.08},{x:541.81,y:504.15},{x:539.34,y:504.21},{x:536.93,y:504.26},{x:534.53,y:504.29},{x:532.13,y:504.31},{x:529.69,y:504.31},{x:527.19,y:504.30},{x:524.59,y:504.26},{x:521.88,y:504.20},{x:519.03,y:504.11},{x:516.00,y:504.00},{x:516.00,y:504.00},{x:512.75,y:503.86},{x:509.27,y:503.70},{x:505.61,y:503.51},{x:501.81,y:503.30},{x:497.93,y:503.06},{x:494.00,y:502.81},{x:490.07,y:502.54},{x:486.19,y:502.26},{x:482.39,y:501.96},{x:478.73,y:501.65},{x:475.25,y:501.33},{x:472.00,y:501.00},{x:472.00,y:501.00},{x:468.96,y:500.65},{x:466.09,y:500.26},{x:463.36,y:499.84},{x:460.74,y:499.41},{x:458.21,y:498.96},{x:455.75,y:498.50},{x:453.33,y:498.04},{x:450.93,y:497.59},{x:448.52,y:497.16},{x:446.07,y:496.74},{x:443.58,y:496.35},{x:441.00,y:496.00},{x:441.00,y:496.00},{x:438.35,y:495.68},{x:435.64,y:495.37},{x:432.91,y:495.09},{x:430.15,y:494.81},{x:427.38,y:494.56},{x:424.63,y:494.31},{x:421.89,y:494.08},{x:419.19,y:493.85},{x:416.53,y:493.63},{x:413.94,y:493.42},{x:411.42,y:493.21},{x:409.00,y:493.00},{x:409.00,y:493.00},{x:406.71,y:492.80},{x:404.58,y:492.60},{x:402.56,y:492.41},{x:400.63,y:492.22},{x:398.75,y:492.05},{x:396.88,y:491.88},{x:394.98,y:491.71},{x:393.04,y:491.56},{x:391.00,y:491.41},{x:388.84,y:491.26},{x:386.52,y:491.13},{x:384.00,y:491.00},{x:384.00,y:491.00},{x:381.90,y:490.88},{x:380.65,y:490.76},{x:379.94,y:490.66},{x:379.44,y:490.56},{x:378.86,y:490.46},{x:377.88,y:490.38},{x:376.17,y:490.30},{x:373.44,y:490.22},{x:369.38,y:490.16},{x:363.65,y:490.10},{x:355.97,y:490.05},{x:346.00,y:490.00},{x:346.00,y:490.00},{x:332.87,y:489.98},{x:316.34,y:490.01},{x:297.11,y:490.07},{x:275.85,y:490.15},{x:253.25,y:490.23},{x:230.00,y:490.31},{x:206.77,y:490.37},{x:184.26,y:490.41},{x:163.14,y:490.40},{x:144.10,y:490.34},{x:127.83,y:490.21},{x:115.00,y:490.00},{x:115.00,y:490.00},{x:105.45,y:489.73},{x:98.33,y:489.43},{x:93.30,y:489.09},{x:90.00,y:488.70},{x:88.10,y:488.28},{x:87.25,y:487.81},{x:87.11,y:487.30},{x:87.33,y:486.74},{x:87.58,y:486.13},{x:87.50,y:485.47},{x:86.76,y:484.76},{x:85.00,y:484.00},{x:85.00,y:484.00},{x:82.64,y:483.19},{x:80.30,y:482.33},{x:77.99,y:481.43},{x:75.70,y:480.48},{x:73.44,y:479.48},{x:71.19,y:478.44},{x:68.96,y:477.34},{x:66.74,y:476.19},{x:64.54,y:474.98},{x:62.35,y:473.71},{x:60.17,y:472.39},{x:58.00,y:471.00},{x:58.00,y:471.00},{x:55.82,y:469.54},{x:53.63,y:468.01},{x:51.42,y:466.41},{x:49.22,y:464.74},{x:47.04,y:463.02},{x:44.88,y:461.25},{x:42.75,y:459.44},{x:40.67,y:457.59},{x:38.64,y:455.72},{x:36.68,y:453.82},{x:34.80,y:451.92},{x:33.00,y:450.00},{x:33.00,y:450.00},{x:31.28,y:448.04},{x:29.62,y:446.02},{x:28.02,y:443.94},{x:26.48,y:441.81},{x:25.00,y:439.66},{x:23.56,y:437.50},{x:22.18,y:435.34},{x:20.85,y:433.19},{x:19.57,y:431.06},{x:18.34,y:428.98},{x:17.15,y:426.96},{x:16.00,y:425.00},{x:16.00,y:425.00},{x:14.91,y:423.14},{x:13.89,y:421.38},{x:12.94,y:419.70},{x:12.04,y:418.07},{x:11.19,y:416.47},{x:10.38,y:414.88},{x:9.60,y:413.26},{x:8.85,y:411.59},{x:8.13,y:409.86},{x:7.41,y:408.03},{x:6.71,y:406.09},{x:6.00,y:404.00},{x:6.00,y:404.00},{x:5.27,y:401.78},{x:4.51,y:399.46},{x:3.73,y:397.05},{x:2.96,y:394.56},{x:2.21,y:391.99},{x:1.50,y:389.38},{x:0.84,y:386.71},{x:0.26,y:384.00},{x:-0.23,y:381.27},{x:-0.62,y:378.51},{x:-0.88,y:375.76},{x:-1.00,y:373.00},{x:-1.00,y:373.00},{x:-0.98,y:370.21},{x:-0.83,y:367.35},{x:-0.58,y:364.44},{x:-0.22,y:361.48},{x:0.22,y:358.50},{x:0.75,y:355.50},{x:1.35,y:352.50},{x:2.00,y:349.52},{x:2.70,y:346.56},{x:3.44,y:343.65},{x:4.21,y:340.79},{x:5.00,y:338.00},{x:5.00,y:338.00},{x:5.75,y:335.31},{x:6.43,y:332.74},{x:7.08,y:330.25},{x:7.74,y:327.81},{x:8.45,y:325.41},{x:9.25,y:323.00},{x:10.17,y:320.56},{x:11.26,y:318.07},{x:12.55,y:315.50},{x:14.07,y:312.81},{x:15.88,y:309.99},{x:18.00,y:307.00},{x:18.00,y:307.00},{x:20.48,y:303.74},{x:23.32,y:300.19},{x:26.46,y:296.41},{x:29.85,y:292.48},{x:33.44,y:288.47},{x:37.19,y:284.44},{x:41.03,y:280.47},{x:44.93,y:276.63},{x:48.82,y:272.99},{x:52.66,y:269.63},{x:56.41,y:266.61},{x:60.00,y:264.00},{x:60.00,y:264.00},{x:63.63,y:261.77},{x:67.49,y:259.83},{x:71.48,y:258.13},{x:75.56,y:256.67},{x:79.63,y:255.40},{x:83.63,y:254.31},{x:87.48,y:253.37},{x:91.11,y:252.56},{x:94.45,y:251.84},{x:97.43,y:251.19},{x:99.97,y:250.58},{x:102.00,y:250.00},{x:102.00,y:250.00},{x:102.20,y:249.51},{x:99.82,y:249.20},{x:95.63,y:249.04},{x:90.37,y:249.00},{x:84.82,y:249.06},{x:79.75,y:249.19},{x:75.91,y:249.36},{x:74.07,y:249.56},{x:75.00,y:249.74},{x:79.45,y:249.90},{x:88.20,y:249.99},{x:102.00,y:250.00},{x:102.00,y:250.00},{x:122.45,y:249.95},{x:149.73,y:249.90},{x:182.49,y:249.84},{x:219.37,y:249.78},{x:259.01,y:249.70},{x:300.06,y:249.63},{x:341.16,y:249.54},{x:380.96,y:249.44},{x:418.10,y:249.34},{x:451.22,y:249.24},{x:478.98,y:249.12},{x:500.00,y:249.00},{x:500.00,y:249.00},{x:514.67,y:248.92},{x:524.69,y:248.91},{x:530.73,y:248.95},{x:533.44,y:249.00},{x:533.50,y:249.05},{x:531.56,y:249.06},{x:528.29,y:249.02},{x:524.33,y:248.89},{x:520.37,y:248.65},{x:517.05,y:248.27},{x:515.04,y:247.73},{x:515.00,y:247.00},{x:515.00,y:247.00},{x:516.14,y:246.06},{x:517.24,y:244.94},{x:518.30,y:243.65},{x:519.33,y:242.22},{x:520.36,y:240.68},{x:521.38,y:239.06},{x:522.40,y:237.38},{x:523.44,y:235.67},{x:524.52,y:233.95},{x:525.63,y:232.24},{x:526.78,y:230.59},{x:528.00,y:229.00},{x:528.00,y:229.00},{x:529.25,y:227.42},{x:530.52,y:225.79},{x:531.80,y:224.11},{x:533.11,y:222.41},{x:534.45,y:220.70},{x:535.81,y:219.00},{x:537.22,y:217.33},{x:538.67,y:215.70},{x:540.16,y:214.14},{x:541.72,y:212.66},{x:543.33,y:211.27},{x:545.00,y:210.00},{x:545.00,y:210.00},{x:546.74,y:208.84},{x:548.54,y:207.75},{x:550.39,y:206.75},{x:552.30,y:205.81},{x:554.25,y:204.94},{x:556.25,y:204.13},{x:558.29,y:203.36},{x:560.37,y:202.63},{x:562.48,y:201.94},{x:564.63,y:201.27},{x:566.80,y:200.63},{x:569.00,y:200.00},{x:569.00,y:200.00},{x:571.29,y:199.39},{x:573.73,y:198.82},{x:576.27,y:198.28},{x:578.89,y:197.78},{x:581.54,y:197.31},{x:584.19,y:196.88},{x:586.80,y:196.48},{x:589.33,y:196.11},{x:591.76,y:195.78},{x:594.03,y:195.49},{x:596.13,y:195.23},{x:598.00,y:195.00},{x:598.00,y:195.00},{x:599.68,y:194.82},{x:601.24,y:194.71},{x:602.68,y:194.65},{x:604.00,y:194.63},{x:605.21,y:194.65},{x:606.31,y:194.69},{x:607.32,y:194.75},{x:608.22,y:194.81},{x:609.04,y:194.88},{x:609.77,y:194.94},{x:610.42,y:194.98},{x:611.00,y:195.00},{x:611.00,y:195.00},{x:611.46,y:195.00},{x:611.75,y:195.00},{x:611.91,y:195.00},{x:611.96,y:195.00},{x:611.92,y:195.00},{x:611.81,y:195.00},{x:611.66,y:195.00},{x:611.48,y:195.00},{x:611.30,y:195.00},{x:611.15,y:195.00},{x:611.04,y:195.00},{x:611.00,y:195.00}],
  [{x:601.00,y:248.00},{x:621.60,y:248.00},{x:649.06,y:247.99},{x:682.03,y:247.98},{x:719.15,y:247.96},{x:759.05,y:247.95},{x:800.38,y:247.94},{x:841.76,y:247.93},{x:881.85,y:247.93},{x:919.28,y:247.93},{x:952.69,y:247.94},{x:980.72,y:247.96},{x:1002.00,y:248.00},{x:1002.00,y:248.00},{x:1016.94,y:248.03},{x:1027.29,y:248.03},{x:1033.69,y:248.02},{x:1036.78,y:248.00},{x:1037.21,y:247.99},{x:1035.63,y:248.00},{x:1032.67,y:248.04},{x:1029.00,y:248.11},{x:1025.25,y:248.23},{x:1022.07,y:248.42},{x:1020.10,y:248.67},{x:1020.00,y:249.00},{x:1020.00,y:249.00},{x:1020.99,y:249.35},{x:1021.88,y:249.66},{x:1022.69,y:249.97},{x:1023.41,y:250.30},{x:1024.05,y:250.67},{x:1024.63,y:251.13},{x:1025.14,y:251.68},{x:1025.59,y:252.37},{x:1026.00,y:253.22},{x:1026.37,y:254.25},{x:1026.70,y:255.51},{x:1027.00,y:257.00},{x:1027.00,y:257.00},{x:1027.24,y:258.56},{x:1027.39,y:260.05},{x:1027.47,y:261.54},{x:1027.48,y:263.11},{x:1027.45,y:264.84},{x:1027.38,y:266.81},{x:1027.28,y:269.10},{x:1027.19,y:271.78},{x:1027.09,y:274.93},{x:1027.02,y:278.63},{x:1026.99,y:282.96},{x:1027.00,y:288.00},{x:1027.00,y:288.00},{x:1027.05,y:294.07},{x:1027.11,y:301.28},{x:1027.18,y:309.42},{x:1027.26,y:318.26},{x:1027.35,y:327.57},{x:1027.44,y:337.13},{x:1027.53,y:346.70},{x:1027.63,y:356.07},{x:1027.73,y:365.02},{x:1027.82,y:373.30},{x:1027.91,y:380.70},{x:1028.00,y:387.00},{x:1028.00,y:387.00},{x:1028.09,y:392.37},{x:1028.18,y:397.18},{x:1028.27,y:401.48},{x:1028.37,y:405.30},{x:1028.47,y:408.69},{x:1028.56,y:411.69},{x:1028.65,y:414.35},{x:1028.74,y:416.70},{x:1028.82,y:418.80},{x:1028.89,y:420.69},{x:1028.95,y:422.41},{x:1029.00,y:424.00},{x:1029.00,y:424.00},{x:1029.04,y:425.26},{x:1029.08,y:426.03},{x:1029.12,y:426.37},{x:1029.15,y:426.37},{x:1029.17,y:426.12},{x:1029.19,y:425.69},{x:1029.19,y:425.16},{x:1029.19,y:424.63},{x:1029.16,y:424.16},{x:1029.13,y:423.85},{x:1029.07,y:423.77},{x:1029.00,y:424.00},{x:1029.00,y:424.00},{x:1028.93,y:424.51},{x:1028.86,y:425.17},{x:1028.80,y:425.96},{x:1028.74,y:426.85},{x:1028.66,y:427.81},{x:1028.56,y:428.81},{x:1028.43,y:429.82},{x:1028.26,y:430.81},{x:1028.04,y:431.76},{x:1027.76,y:432.62},{x:1027.42,y:433.38},{x:1027.00,y:434.00},{x:1027.00,y:434.00},{x:1026.57,y:434.50},{x:1026.18,y:434.94},{x:1025.80,y:435.31},{x:1025.41,y:435.63},{x:1024.96,y:435.90},{x:1024.44,y:436.13},{x:1023.81,y:436.32},{x:1023.04,y:436.48},{x:1022.10,y:436.63},{x:1020.97,y:436.75},{x:1019.61,y:436.88},{x:1018.00,y:437.00},{x:1018.00,y:437.00},{x:1016.74,y:437.10},{x:1016.26,y:437.16},{x:1016.24,y:437.19},{x:1016.37,y:437.19},{x:1016.33,y:437.16},{x:1015.81,y:437.13},{x:1014.50,y:437.08},{x:1012.07,y:437.04},{x:1008.23,y:437.00},{x:1002.64,y:436.98},{x:995.00,y:436.97},{x:985.00,y:437.00},{x:985.00,y:437.00},{x:971.66,y:437.06},{x:954.72,y:437.14},{x:934.90,y:437.25},{x:912.93,y:437.37},{x:889.53,y:437.50},{x:865.44,y:437.63},{x:841.38,y:437.75},{x:818.07,y:437.85},{x:796.26,y:437.94},{x:776.66,y:438.00},{x:759.99,y:438.02},{x:747.00,y:438.00},{x:747.00,y:438.00},{x:737.62,y:437.95},{x:731.02,y:437.90},{x:726.77,y:437.83},{x:724.44,y:437.74},{x:723.60,y:437.63},{x:723.81,y:437.50},{x:724.64,y:437.34},{x:725.67,y:437.15},{x:726.45,y:436.92},{x:726.55,y:436.66},{x:725.54,y:436.35},{x:723.00,y:436.00},{x:723.00,y:436.00},{x:719.32,y:435.61},{x:715.25,y:435.18},{x:710.83,y:434.72},{x:706.11,y:434.22},{x:701.15,y:433.69},{x:696.00,y:433.13},{x:690.71,y:432.52},{x:685.33,y:431.89},{x:679.92,y:431.22},{x:674.53,y:430.51},{x:669.20,y:429.77},{x:664.00,y:429.00},{x:664.00,y:429.00},{x:658.70,y:428.15},{x:653.12,y:427.21},{x:647.34,y:426.19},{x:641.44,y:425.11},{x:635.51,y:424.00},{x:629.63,y:422.88},{x:623.87,y:421.76},{x:618.33,y:420.67},{x:613.09,y:419.63},{x:608.24,y:418.65},{x:603.84,y:417.77},{x:600.00,y:417.00},{x:600.00,y:417.00},{x:596.77,y:416.33},{x:594.10,y:415.72},{x:591.91,y:415.16},{x:590.11,y:414.67},{x:588.61,y:414.22},{x:587.31,y:413.81},{x:586.14,y:413.45},{x:585.00,y:413.11},{x:583.80,y:412.80},{x:582.47,y:412.52},{x:580.89,y:412.25},{x:579.00,y:412.00},{x:579.00,y:412.00},{x:576.87,y:411.77},{x:574.66,y:411.59},{x:572.38,y:411.45},{x:570.04,y:411.33},{x:567.64,y:411.25},{x:565.19,y:411.19},{x:562.70,y:411.14},{x:560.19,y:411.11},{x:557.65,y:411.09},{x:555.10,y:411.06},{x:552.55,y:411.04},{x:550.00,y:411.00},{x:550.00,y:411.00},{x:547.42,y:410.95},{x:544.77,y:410.90},{x:542.07,y:410.84},{x:539.33,y:410.78},{x:536.58,y:410.73},{x:533.81,y:410.69},{x:531.06,y:410.67},{x:528.33,y:410.67},{x:525.65,y:410.70},{x:523.02,y:410.76},{x:520.47,y:410.86},{x:518.00,y:411.00},{x:518.00,y:411.00},{x:515.72,y:411.16},{x:513.68,y:411.32},{x:511.80,y:411.48},{x:510.04,y:411.67},{x:508.31,y:411.88},{x:506.56,y:412.13},{x:504.73,y:412.42},{x:502.74,y:412.78},{x:500.54,y:413.20},{x:498.06,y:413.71},{x:495.23,y:414.30},{x:492.00,y:415.00},{x:492.00,y:415.00},{x:488.26,y:415.84},{x:484.00,y:416.84},{x:479.34,y:417.96},{x:474.37,y:419.19},{x:469.18,y:420.48},{x:463.87,y:421.81},{x:458.55,y:423.16},{x:453.30,y:424.48},{x:448.22,y:425.76},{x:443.41,y:426.96},{x:438.97,y:428.05},{x:435.00,y:429.00},{x:435.00,y:429.00},{x:431.60,y:429.85},{x:428.73,y:430.64},{x:426.27,y:431.38},{x:424.11,y:432.07},{x:422.12,y:432.72},{x:420.19,y:433.31},{x:418.19,y:433.86},{x:416.00,y:434.37},{x:413.51,y:434.84},{x:410.59,y:435.26},{x:407.13,y:435.65},{x:403.00,y:436.00},{x:403.00,y:436.00},{x:398.64,y:436.30},{x:394.44,y:436.53},{x:390.26,y:436.70},{x:385.93,y:436.81},{x:381.29,y:436.89},{x:376.19,y:436.94},{x:370.46,y:436.96},{x:363.96,y:436.96},{x:356.52,y:436.96},{x:347.99,y:436.96},{x:338.20,y:436.97},{x:327.00,y:437.00},{x:327.00,y:437.00},{x:313.54,y:437.05},{x:297.44,y:437.13},{x:279.27,y:437.21},{x:259.59,y:437.30},{x:238.98,y:437.37},{x:218.00,y:437.44},{x:197.21,y:437.48},{x:177.19,y:437.48},{x:158.48,y:437.45},{x:141.68,y:437.36},{x:127.33,y:437.21},{x:116.00,y:437.00},{x:116.00,y:437.00},{x:107.58,y:436.69},{x:101.38,y:436.28},{x:97.10,y:435.78},{x:94.44,y:435.22},{x:93.11,y:434.62},{x:92.81,y:434.00},{x:93.24,y:433.38},{x:94.11,y:432.78},{x:95.12,y:432.22},{x:95.97,y:431.72},{x:96.36,y:431.31},{x:96.00,y:431.00},{x:96.00,y:431.00},{x:95.36,y:430.83},{x:95.05,y:430.80},{x:95.02,y:430.88},{x:95.19,y:431.04},{x:95.49,y:431.23},{x:95.88,y:431.44},{x:96.26,y:431.62},{x:96.59,y:431.74},{x:96.80,y:431.77},{x:96.81,y:431.68},{x:96.57,y:431.44},{x:96.00,y:431.00},{x:96.00,y:431.00},{x:95.12,y:430.40},{x:94.00,y:429.68},{x:92.67,y:428.85},{x:91.19,y:427.93},{x:89.57,y:426.91},{x:87.88,y:425.81},{x:86.13,y:424.64},{x:84.37,y:423.41},{x:82.64,y:422.12},{x:80.98,y:420.78},{x:79.42,y:419.40},{x:78.00,y:418.00},{x:78.00,y:418.00},{x:76.67,y:416.49},{x:75.34,y:414.82},{x:74.03,y:413.03},{x:72.74,y:411.15},{x:71.48,y:409.21},{x:70.25,y:407.25},{x:69.06,y:405.30},{x:67.93,y:403.41},{x:66.84,y:401.59},{x:65.82,y:399.90},{x:64.87,y:398.36},{x:64.00,y:397.00},{x:64.00,y:397.00},{x:63.20,y:395.84},{x:62.47,y:394.85},{x:61.80,y:394.00},{x:61.19,y:393.26},{x:60.63,y:392.60},{x:60.13,y:392.00},{x:59.67,y:391.43},{x:59.26,y:390.85},{x:58.89,y:390.25},{x:58.56,y:389.59},{x:58.26,y:388.85},{x:58.00,y:388.00},{x:58.00,y:388.00},{x:57.79,y:387.06},{x:57.64,y:386.09},{x:57.55,y:385.08},{x:57.52,y:384.04},{x:57.52,y:382.97},{x:57.56,y:381.88},{x:57.63,y:380.76},{x:57.70,y:379.63},{x:57.79,y:378.48},{x:57.87,y:377.33},{x:57.95,y:376.17},{x:58.00,y:375.00},{x:58.00,y:375.00},{x:58.04,y:373.83},{x:58.07,y:372.66},{x:58.11,y:371.48},{x:58.15,y:370.30},{x:58.19,y:369.09},{x:58.25,y:367.88},{x:58.32,y:366.63},{x:58.41,y:365.37},{x:58.52,y:364.08},{x:58.65,y:362.75},{x:58.81,y:361.40},{x:59.00,y:360.00},{x:59.00,y:360.00},{x:59.21,y:358.54},{x:59.42,y:357.02},{x:59.65,y:355.44},{x:59.89,y:353.81},{x:60.15,y:352.16},{x:60.44,y:350.50},{x:60.76,y:348.84},{x:61.11,y:347.19},{x:61.51,y:345.56},{x:61.95,y:343.98},{x:62.45,y:342.46},{x:63.00,y:341.00},{x:63.00,y:341.00},{x:63.61,y:339.59},{x:64.28,y:338.21},{x:65.01,y:336.85},{x:65.78,y:335.52},{x:66.59,y:334.21},{x:67.44,y:332.94},{x:68.32,y:331.69},{x:69.22,y:330.48},{x:70.15,y:329.30},{x:71.09,y:328.16},{x:72.04,y:327.06},{x:73.00,y:326.00},{x:73.00,y:326.00},{x:73.97,y:324.99},{x:74.95,y:324.06},{x:75.95,y:323.17},{x:76.96,y:322.33},{x:78.00,y:321.53},{x:79.06,y:320.75},{x:80.15,y:319.98},{x:81.26,y:319.22},{x:82.40,y:318.45},{x:83.57,y:317.67},{x:84.77,y:316.85},{x:86.00,y:316.00},{x:86.00,y:316.00},{x:87.26,y:315.10},{x:88.53,y:314.14},{x:89.83,y:313.16},{x:91.15,y:312.15},{x:92.50,y:311.13},{x:93.88,y:310.13},{x:95.29,y:309.14},{x:96.74,y:308.19},{x:98.23,y:307.28},{x:99.77,y:306.44},{x:101.36,y:305.67},{x:103.00,y:305.00},{x:103.00,y:305.00},{x:104.73,y:304.41},{x:106.58,y:303.88},{x:108.52,y:303.41},{x:110.52,y:303.00},{x:112.56,y:302.63},{x:114.63,y:302.31},{x:116.68,y:302.03},{x:118.70,y:301.78},{x:120.67,y:301.55},{x:122.56,y:301.35},{x:124.34,y:301.17},{x:126.00,y:301.00},{x:126.00,y:301.00},{x:126.43,y:300.86},{x:124.95,y:300.77},{x:122.18,y:300.72},{x:118.74,y:300.70},{x:115.25,y:300.72},{x:112.31,y:300.75},{x:110.56,y:300.80},{x:110.59,y:300.85},{x:113.04,y:300.91},{x:118.51,y:300.95},{x:127.63,y:300.99},{x:141.00,y:301.00},{x:141.00,y:301.00},{x:160.12,y:301.01},{x:185.25,y:301.03},{x:215.19,y:301.07},{x:248.74,y:301.11},{x:284.70,y:301.15},{x:321.88,y:301.19},{x:359.05,y:301.21},{x:395.04,y:301.22},{x:428.63,y:301.21},{x:458.62,y:301.17},{x:483.81,y:301.11},{x:503.00,y:301.00},{x:503.00,y:301.00},{x:516.50,y:300.86},{x:525.82,y:300.70},{x:531.55,y:300.51},{x:534.30,y:300.30},{x:534.64,y:300.06},{x:533.19,y:299.81},{x:530.53,y:299.54},{x:527.26,y:299.26},{x:523.98,y:298.96},{x:521.28,y:298.65},{x:519.75,y:298.33},{x:520.00,y:298.00},{x:520.00,y:298.00},{x:521.32,y:297.67},{x:522.62,y:297.35},{x:523.89,y:297.03},{x:525.15,y:296.70},{x:526.39,y:296.36},{x:527.63,y:296.00},{x:528.85,y:295.61},{x:530.07,y:295.19},{x:531.30,y:294.72},{x:532.52,y:294.20},{x:533.76,y:293.63},{x:535.00,y:293.00},{x:535.00,y:293.00},{x:536.26,y:292.30},{x:537.53,y:291.53},{x:538.82,y:290.70},{x:540.11,y:289.81},{x:541.40,y:288.89},{x:542.69,y:287.94},{x:543.96,y:286.96},{x:545.22,y:285.96},{x:546.46,y:284.96},{x:547.67,y:283.96},{x:548.86,y:282.97},{x:550.00,y:282.00},{x:550.00,y:282.00},{x:551.11,y:281.03},{x:552.20,y:280.03},{x:553.26,y:279.02},{x:554.30,y:278.00},{x:555.31,y:276.97},{x:556.31,y:275.94},{x:557.29,y:274.91},{x:558.26,y:273.89},{x:559.21,y:272.88},{x:560.15,y:271.90},{x:561.08,y:270.93},{x:562.00,y:270.00},{x:562.00,y:270.00},{x:562.91,y:269.09},{x:563.82,y:268.21},{x:564.71,y:267.34},{x:565.59,y:266.48},{x:566.46,y:265.64},{x:567.31,y:264.81},{x:568.15,y:263.99},{x:568.96,y:263.19},{x:569.76,y:262.38},{x:570.53,y:261.59},{x:571.28,y:260.79},{x:572.00,y:260.00},{x:572.00,y:260.00},{x:572.67,y:259.20},{x:573.28,y:258.37},{x:573.84,y:257.54},{x:574.37,y:256.70},{x:574.88,y:255.88},{x:575.38,y:255.06},{x:575.88,y:254.27},{x:576.41,y:253.52},{x:576.97,y:252.80},{x:577.58,y:252.14},{x:578.25,y:251.54},{x:579.00,y:251.00},{x:579.00,y:251.00},{x:579.83,y:250.53},{x:580.75,y:250.11},{x:581.72,y:249.73},{x:582.74,y:249.41},{x:583.80,y:249.12},{x:584.88,y:248.88},{x:585.96,y:248.66},{x:587.04,y:248.48},{x:588.09,y:248.33},{x:589.12,y:248.20},{x:590.09,y:248.09},{x:591.00,y:248.00},{x:591.00,y:248.00},{x:591.88,y:247.95},{x:592.78,y:247.95},{x:593.67,y:247.99},{x:594.56,y:248.07},{x:595.42,y:248.18},{x:596.25,y:248.31},{x:597.04,y:248.45},{x:597.78,y:248.59},{x:598.45,y:248.73},{x:599.06,y:248.84},{x:599.57,y:248.94},{x:600.00,y:249.00},{x:600.00,y:249.00},{x:600.32,y:249.04},{x:600.52,y:249.06},{x:600.63,y:249.07},{x:600.67,y:249.07},{x:600.64,y:249.07},{x:600.56,y:249.06},{x:600.46,y:249.05},{x:600.33,y:249.04},{x:600.21,y:249.02},{x:600.10,y:249.01},{x:600.03,y:249.00},{x:600.00,y:249.00}],
  [{x:1080.00,y:257.00},{x:1080.09,y:265.79},{x:1080.18,y:277.50},{x:1080.29,y:291.57},{x:1080.41,y:307.41},{x:1080.54,y:324.43},{x:1080.69,y:342.06},{x:1080.85,y:359.72},{x:1081.04,y:376.81},{x:1081.24,y:392.77},{x:1081.47,y:407.01},{x:1081.72,y:418.95},{x:1082.00,y:428.00},{x:1082.00,y:428.00},{x:1082.30,y:434.34},{x:1082.61,y:438.73},{x:1082.95,y:441.42},{x:1083.30,y:442.70},{x:1083.67,y:442.85},{x:1084.06,y:442.13},{x:1084.48,y:440.81},{x:1084.93,y:439.19},{x:1085.40,y:437.52},{x:1085.90,y:436.08},{x:1086.43,y:435.15},{x:1087.00,y:435.00},{x:1087.00,y:435.00},{x:1087.52,y:435.29},{x:1087.94,y:435.51},{x:1088.31,y:435.67},{x:1088.67,y:435.78},{x:1089.05,y:435.84},{x:1089.50,y:435.88},{x:1090.06,y:435.89},{x:1090.78,y:435.89},{x:1091.69,y:435.89},{x:1092.83,y:435.90},{x:1094.26,y:435.94},{x:1096.00,y:436.00},{x:1096.00,y:436.00},{x:1098.20,y:436.09},{x:1100.88,y:436.20},{x:1103.96,y:436.32},{x:1107.33,y:436.44},{x:1110.90,y:436.57},{x:1114.56,y:436.69},{x:1118.22,y:436.80},{x:1121.78,y:436.89},{x:1125.13,y:436.96},{x:1128.19,y:437.01},{x:1130.84,y:437.02},{x:1133.00,y:437.00},{x:1133.00,y:437.00},{x:1134.69,y:436.96},{x:1136.06,y:436.91},{x:1137.13,y:436.85},{x:1137.96,y:436.78},{x:1138.59,y:436.68},{x:1139.06,y:436.56},{x:1139.42,y:436.41},{x:1139.70,y:436.22},{x:1139.96,y:435.99},{x:1140.23,y:435.72},{x:1140.57,y:435.39},{x:1141.00,y:435.00},{x:1141.00,y:435.00},{x:1141.49,y:435.07},{x:1141.94,y:435.91},{x:1142.38,y:437.27},{x:1142.78,y:438.85},{x:1143.15,y:440.40},{x:1143.50,y:441.63},{x:1143.82,y:442.26},{x:1144.11,y:442.04},{x:1144.38,y:440.67},{x:1144.61,y:437.89},{x:1144.82,y:433.43},{x:1145.00,y:427.00},{x:1145.00,y:427.00},{x:1145.16,y:417.88},{x:1145.29,y:405.89},{x:1145.40,y:391.62},{x:1145.48,y:375.63},{x:1145.54,y:358.50},{x:1145.56,y:340.81},{x:1145.56,y:323.13},{x:1145.52,y:306.04},{x:1145.45,y:290.10},{x:1145.34,y:275.90},{x:1145.19,y:264.01},{x:1145.00,y:255.00},{x:1145.00,y:255.00},{x:1144.78,y:248.73},{x:1144.55,y:244.48},{x:1144.29,y:241.96},{x:1144.00,y:240.89},{x:1143.68,y:240.98},{x:1143.31,y:241.94},{x:1142.90,y:243.49},{x:1142.44,y:245.33},{x:1141.93,y:247.20},{x:1141.35,y:248.78},{x:1140.71,y:249.82},{x:1140.00,y:250.00},{x:1140.00,y:250.00},{x:1139.28,y:249.67},{x:1138.59,y:249.35},{x:1137.90,y:249.04},{x:1137.19,y:248.74},{x:1136.42,y:248.46},{x:1135.56,y:248.19},{x:1134.59,y:247.94},{x:1133.48,y:247.70},{x:1132.20,y:247.49},{x:1130.71,y:247.30},{x:1128.98,y:247.14},{x:1127.00,y:247.00},{x:1127.00,y:247.00},{x:1124.61,y:246.88},{x:1121.75,y:246.78},{x:1118.53,y:246.70},{x:1115.04,y:246.63},{x:1111.37,y:246.58},{x:1107.63,y:246.56},{x:1103.90,y:246.56},{x:1100.30,y:246.59},{x:1096.91,y:246.65},{x:1093.83,y:246.73},{x:1091.16,y:246.85},{x:1089.00,y:247.00},{x:1089.00,y:247.00},{x:1087.32,y:247.19},{x:1086.00,y:247.41},{x:1085.00,y:247.67},{x:1084.26,y:247.96},{x:1083.73,y:248.28},{x:1083.38,y:248.63},{x:1083.13,y:248.99},{x:1082.96,y:249.37},{x:1082.81,y:249.77},{x:1082.63,y:250.17},{x:1082.38,y:250.58},{x:1082.00,y:251.00},{x:1082.00,y:251.00},{x:1081.55,y:251.45},{x:1081.11,y:251.95},{x:1080.70,y:252.50},{x:1080.30,y:253.07},{x:1079.92,y:253.66},{x:1079.56,y:254.25},{x:1079.23,y:254.82},{x:1078.93,y:255.37},{x:1078.65,y:255.88},{x:1078.40,y:256.32},{x:1078.18,y:256.70},{x:1078.00,y:257.00},{x:1078.00,y:257.00},{x:1077.86,y:257.21},{x:1077.77,y:257.35},{x:1077.72,y:257.42},{x:1077.70,y:257.44},{x:1077.72,y:257.43},{x:1077.75,y:257.38},{x:1077.80,y:257.30},{x:1077.85,y:257.22},{x:1077.91,y:257.14},{x:1077.95,y:257.07},{x:1077.99,y:257.02},{x:1078.00,y:257.00}]
];

function _drawPathWithCurbs(ctx, pts) {
  if (!pts || pts.length < 2) return;
  ctx.save();
  ctx.lineJoin = 'round';
  ctx.lineCap = 'round';

  // Red curbs
  ctx.beginPath();
  ctx.moveTo(pts[0].x, pts[0].y);
  for (let i = 1; i < pts.length; i++) ctx.lineTo(pts[i].x, pts[i].y);
  ctx.strokeStyle = 'red';
  ctx.lineWidth = _CURB_WIDTH;
  ctx.setLineDash([_DASH, _GAP]);
  ctx.lineDashOffset = 0;
  ctx.stroke();

  // White curbs (offset)
  ctx.beginPath();
  ctx.moveTo(pts[0].x, pts[0].y);
  for (let i = 1; i < pts.length; i++) ctx.lineTo(pts[i].x, pts[i].y);
  ctx.strokeStyle = 'white';
  ctx.lineWidth = _CURB_WIDTH;
  ctx.setLineDash([_DASH, _GAP]);
  ctx.lineDashOffset = _DASH;
  ctx.stroke();

  // Asphalt
  ctx.beginPath();
  ctx.moveTo(pts[0].x, pts[0].y);
  for (let i = 1; i < pts.length; i++) ctx.lineTo(pts[i].x, pts[i].y);
  ctx.strokeStyle = _ASPHALT_COLOR;
  ctx.lineWidth = _ASPHALT_WIDTH;
  ctx.setLineDash([]);
  ctx.stroke();
  ctx.restore();
}

export function drawTrackSmoothed(ctx) {
  if (!ctx) throw new Error('ctx is required');
  for (let i = 0; i < SMOOTH_PATHS.length; i++) {
    _drawPathWithCurbs(ctx, SMOOTH_PATHS[i]);
  }
}

export function drawTrackRaw(ctx) {
  if (!ctx) throw new Error('ctx is required');
  for (let i = 0; i < RAW_PATHS.length; i++) {
    _drawPathWithCurbs(ctx, RAW_PATHS[i]);
  }
}

export default drawTrackSmoothed;
